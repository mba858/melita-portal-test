<mat-toolbar>
    <span>Home</span>
    <span class="example-spacer"></span>
    <button class="logout" (click)="logout()" mat-raised-button color="primary">Logout</button>


</mat-toolbar>

<mat-card>
    <mat-card-content class="main_section">
        <h1>Malita Offers</h1>
        <div class="spinner_wrap">
            <mat-spinner [diameter]="40" [style.display]="showSpinner ? 'block' : 'none'"></mat-spinner>
        </div>
        <mat-list role="list">
            <div class="row list_item_" *ngFor="let offer of offers;" role="listitem">
                <mat-grid-list cols="2" rowHeight="200px">
                    <mat-grid-tile>
                        <h3><img src="../../assets/star.png" /> {{offer.name}}</h3>
                    </mat-grid-tile>
                    <mat-grid-tile>
                        <p><span>From:</span> {{offer.contractStartDate}} </p>
                        <p><span>To:</span> {{offer.contractEndDate}}</p>
                    </mat-grid-tile>
                    <button class="details" (click)="loadOfferSubscription(offer)" mat-raised-button color="primary">Details</button>
                </mat-grid-list>
                <div class="sub_list" *ngIf="offer.showing">
                    <mat-spinner [diameter]="20" [style.display]="offer.loadingSubscriptions ? 'block' : 'none'"></mat-spinner>
                    <div *ngFor="let subscription of offer.subscriptions">
                        <p>{{subscription.name}}</p>
                        <p>{{subscription.type}}</p>
                        <p *ngFor="let usage of subscription.usage;">
                            <span>{{usage.type}}</span>
                            <span>{{usage.used}}/{{usage.limit}}</span>
                        </p>
                    </div>
                </div>
                <mat-divider></mat-divider>
            </div>
        </mat-list>
    </mat-card-content>

</mat-card>